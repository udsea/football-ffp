# Football FFP Analysis POC

A minimal proof-of-concept for analyzing Football Financial Fair Play (FFP) compliance using AWS Bedrock, S3, OpenSearch, and QuickSight.

## Architecture

- **Data Collection**: Web scraper for Big 6 + Brighton 2023 financial data
- **Storage**: S3 for raw data, OpenSearch for vector storage
- **Analysis**: AWS Bedrock (Claude 3 Sonnet + Titan Embeddings)
- **Visualization**: QuickSight dashboards
- **Infrastructure**: CloudFormation templates

## Quick Start

1. **Deploy Infrastructure**
   ```bash
   ./scripts/deploy.sh
   ```

2. **Install Dependencies**
   ```bash
   pip install -r requirements.txt
   ```

3. **Scrape Data**
   ```bash
   python src/scraper.py
   ```

4. **Upload to S3**
   ```bash
   python src/upload_s3.py
   ```

5. **Run Analysis**
   ```bash
   python src/analyze.py
   ```

## Project Structure

```
├── infrastructure/          # CloudFormation templates
├── src/
│   ├── config.py           # Configuration and constants
│   ├── scraper.py          # Data scraping logic
│   ├── upload_s3.py        # S3 upload functionality
│   ├── vector_store.py     # OpenSearch vector operations
│   └── analyze.py          # Bedrock analysis functions
├── scripts/
│   ├── deploy.sh           # Infrastructure deployment
│   └── setup_quicksight.py # QuickSight dashboard setup
└── data/                   # Local data storage
```

## Features

- Scrapes 2023 financial data for 7 Premier League clubs
- Generates embeddings using Titan for semantic search
- Performs FFP compliance analysis using Claude 3 Sonnet
- Creates QuickSight visualizations for financial metrics
- Minimal infrastructure footprint with CloudFormation

## Environment Variables

Copy `.env.example` to `.env` and configure:
- AWS credentials and region
- S3 bucket name (auto-generated by deployment)
- OpenSearch endpoint (auto-generated by deployment)
- QuickSight account ID

## Clubs Analyzed

- Manchester City
- Manchester United  
- Arsenal
- Chelsea
- Liverpool
- Tottenham
- Brighton

## Analysis Types

1. **Overall FFP Compliance**: Risk assessment across all clubs
2. **Risk Assessment**: High/medium/low risk categorization
3. **Strategic Comparison**: Big 6 vs Brighton financial models